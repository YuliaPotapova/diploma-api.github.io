# Дипломный проект
по программе обучения WEB-разработке на Яндекс.Практикум

# Этап 2. **Бэкенд**
#### ***URL: <https://github.com/YuliaPotapova/diploma-api.github.io>***
#### ***публичный IP-адрес сервера: 84.201.161.212***
#### ***домен: api.jslife.tk***
#### ***Версия: 0.0.1***

***
*Автор проекта: Юлия Потапова*
***

В рамках данного этапа проекта реализован бэкенд сайта, представляющего собой сервис поиска новостей по запросу с возможностью сохранения найденных статей в личном кабинете.


В результате проделанной работы:
* созданы схемы и модели двух сущностей: пользователя и статьи;
* созданы роуты и контроллеры, обрабатывающие следующие запросы:
  - POST /signup - API создаёт пользователя с переданными в теле запроса почтой, паролем и именем;
  - POST /signin - API проверяет переданные в теле запроса почту и пароль и возвращает JWT (записывает его в куки браузера);
  - GET /users/me - API возвращает информацию о пользователе (email и имя);
  - GET /articles - API возвращает все сохранённые пользователем статьи;
  - POST /articles - API создаёт статью с переданными в теле запроса данными (ключевое слово поиска, заголовок статьи, текст статьи, дата статьи, источник статьи, ссылка на статью, ссылка на иллюстрацию к статье);
* роуты защищены авторизацией;
* запросы валидируются по определённым схемам (celebrate);
* реализовано логгирование всех запросов к API и ошибок, которые возвращало API;
* на платформе Яндекс Облако создан сервер, к которому можно обратиться по публичному IP-адресу 84.201.161.212;
* зарегистрирован домен jslife.tk, и прикреплен к указанному IP-адресу;
* выпущен и подключен сертификат, позволяющий обратиться к серверу не только по http, но и по https;
* секретный ключ для создания и верификации JWT хранится на сервере в .env файле и не добавляется в репозиторий;
* в режиме разработки код запускается и работает без наличия .env файла;
* приложение запускается с помощью менеджера процессов pm2, в результате чего происходит автоматическое восстановление работы приложения в случае падения.

***
Чтобы развернуть проект локально необходимо:
* установить MongoDB (инструкция для ОС Windows: https://docs.mongodb.com/manual/tutorial/install-mongodb-on-windows/#install-mdb-edition, для macOS: https://docs.mongodb.com/manual/tutorial/install-mongodb-on-os-x/, для Linux: https://docs.mongodb.com/manual/administration/install-on-linux/);
* запустить сервер MongoDB на локальной машине;
* установить node.js;
* клонировать репозиторий на свой компьютер;
* из библиотеки пакетов NPM установить модули, перечисленные в зависимостях в файле package.json;
* запустить файл app.js на выполнение в node.js.
